<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>SlwyTree demo</title>
    <link rel="stylesheet" href="stylesheets/zTreeStyle/zTreeStyle.css">
    <link rel="stylesheet" href="stylesheets/index.css">
    <link rel="stylesheet" href="stylesheets/slwyTree/slwyTree.css">
</head>

<body>
    <div class="slwy-dialog">
        <div class="slwy-dialog-header">
            <div class="slwy-dialog-title">选择部门<span class="slwy-dialog-close iconfont fr">&#xe60b;</span></div>
        </div>
        <div class="slwy-dialog-body">
            <div class="inline-block fl width-per-50">
                <div class="slwy-dialog-title">选择成员所在部门</div>
            </div>
            <div class="inline-block fl width-per-50">
                <div class="slwy-dialog-title">成员将属于以下部门</div>
            </div>
            <div class="inline-block fl width-per-50">
                <div id="slwyTree" data-selectable="true" data-select-box-el="#slwyTreeSelectBox"></div>
            </div>
            <div class="inline-block fl width-per-50">
                <div id="slwyTreeSelectBox"></div>
            </div>
            <div class="slwy-dialog-footer">
            </div>
        </div>
        <!-- <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script> -->
        <script src="js/jQuery.js"></script>
        <script src="js/jquery.ztree.all.js"></script>
        <script src="js/jquery.ztree.exhide.min.js"></script>
        <script src="js/jquery.SlwyTree.js"></script>
        <script>
        var setting = {
            searchable: true, //是否可搜索,默认false
            searchType: 1, //1||2,搜索过滤方式,1搜索高亮显示,2搜索过滤显示,默认1
            checkable: true, //是否需要checkbox,默认false
            // selectable: true, //是否可选择,默认false
            // selectBoxEl: '#slwyTreeSelectBox', //选择列表容器，前提selectable为true
//             selectContainChildren:false,//选择父级节点是否会连带选择所有子节点，默认true
            // selectContainSelf:false,//设为false则当selectContainChildren为true时选择节点只会选择子节点而不会选择自身节点,前提selectContainChildren为true,默认为true
//            selectOnlyChildren: true, //选择父级节点是否只选择最底层子节点，如果设为true，selectContainSelf无效，前提selectContainChildren为true，默认false
            // fileIcon: './img/icon-user.png', //自定义文件图标（最底层没有子节点的节点图标）
            // folderIcon: './img/icon-folder.png', //自定义文件夹图标（收起）
            // folderIconOpen: './img/icon-folder-open.png', //自定义文件夹图标（展开）
            // showIcon:false,//是否显示图标，默认为true
            iconStyle: 'slwy', //图标风格，目前支持slwy和默认两种风格
            // iconSwitchStyle:'arrow',//switch图标风格，目前支持arrow箭头和默认加减两种风格
            selectBoxTitleText: '已选择成员', //选择列表容器标题文案，默认为"已选择",
            selectBoxTitleSymbol: '人', //选择列表容器已选择的数量单位，默认无
            searchBoxText: '搜索成员名称', //搜索框placeholder文案,
            expandLevel: 2, //节点展开等级，默认0全部展开，-1不展开
            // customData:{
            //     key:{
            //         children:'ChildrenNode',
            //         name:'Name'
            //     },
            //     simpleData:{
            //         idKey:'ID',
            //         pIdKey:'PID'
            //     }
            // }
        };
        var treeNodes = [{
            name: "四川我要去哪儿科技股份有限公司",
            id: 1
        }, {
            name: "差旅平台事业部",
            pId: 1,
            id: 2
        }, {
            name: "人力行政中心",
            pId: 1,
            id: 3
        }, {
            name: "技术中心",
            pId: 1,
            id: 4,
            isParent: true
        }, {
            name: "国内机票组",
            pId: 2,
            id: 5
        }, {
            name: "增值业务组",
            pId: 2,
            id: 6
        }, {
            name: "差旅产品组",
            pId: 2,
            id: 7
        }, {
            name: "差旅测试部",
            pId: 2,
            id: 8
        }, {
            name: "test",
            open: false,
            checked: true,
            pId: 2,
            id: 9
        }, {
            name: "人力资源部",
            pId: 3,
            id: 10
        }, {
            name: "后勤部",
            pId: 3,
            id: 11
        }, {
            name: "Web前端研发部",
            checked: true,
            pId: 4,
            id: 12
        }, {
            name: "123456",
            data: {
                'a': 1,
                'b': 2
            },
            pId: 9,
            id: 13
        }, {
            name: 'joe',
            pId: 12,
            id: 14
        }, {
            name: '前端酒店开发组',
            pId: 12,
            id: 15
        }, {
            name: 'haha',
            pId: 15,
            id: 16
        }];
        $('#slwyTree').SlwyTree(treeNodes, setting);
        //异步获取selectedListData
        $('#slwyTree').getSelectedListData(function(data) {
            console.log(data);
        });
        //同步获取selectedListData
        var selectedListData = $('#slwyTree').getSelectedListData();
        console.log(selectedListData);
        </script>
</body>

</html>
